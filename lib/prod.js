'use strict';Object.defineProperty(exports,"__esModule",{value:!0});function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ownKeys(a,b){var c=Object.keys(a);return Object.getOwnPropertySymbols&&c.push.apply(c,Object.getOwnPropertySymbols(a)),b&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c}function _objectSpread2(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(b,!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var golden_ratio_conjugate=.618033988749895,h=.333,generateBestHue=function(){h+=golden_ratio_conjugate,h%=1;var a=Math.floor(360*h);return a},colorMapCache={},getColor=function(a,b){var c=colorMapCache[a];return void 0===c&&(c=generateBestHue(),colorMapCache[a]=c),"hsl(".concat(c,", 70%, ").concat(45+5*b,"%)")},getTimeStamp=function(){var a=new Date;return"".concat(a.getHours().toString().padStart(2,"0"),":").concat(a.getMinutes().toString().padStart(2,"0"),":").concat(a.getSeconds().toString().padStart(2,"0"),".").concat(a.getMilliseconds())},globalConfig={disabled:!1,disableInProduction:!0},transports=[],clearTransports=function(){transports.length=0},registerTransport=function(a){globalConfig.disabled||globalConfig.disableInProduction&&process&&process.env&&!0||!a.isAvailableInEnvironment(globalConfig)||(a.initialise(),transports.push(a))},transformArgs=function(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return void 0===a?c:a.smile?[":)"].concat(c):a.timestamp?[getTimeStamp()].concat(c):c}},dispatchToTransports=function(a,b){return function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];transports.map(function(c){return c.dispatch(a,b).apply(void 0,_toConsumableArray(transformArgs(b).apply(void 0,d)))})}},levels=["log","debug","error","warn","fatal"];exports.lgr=null,exports.lgr=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{meta:[]},b=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{meta:[]};return exports.lgr(_objectSpread2({},a,{},b,{meta:[].concat(_toConsumableArray(a.meta||[]),[b.meta||[]])}))};return levels.map(function(c){return b[c]=function(){return dispatchToTransports(c,a).apply(void 0,arguments)}}),b};var makeLogStyle=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=a.backgroundColor,c=void 0===b?null:b,d=a.color,e=void 0===d?"white":d,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,h=null===c?getColor(f,g):c;return"background-color:".concat(h,";color:").concat(e,";border-radius:3px;padding:2px 4px;margin-left:2px;font-size:").concat("$1.5rem",";font-weight:").concat(0===g?"bold":"normal")},transformConsoleArgs=function(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];if(a===void 0)return c;if(a.meta){var e="string"==typeof a.meta?["%c".concat(a.meta),makeLogStyle(a,a.meta)]:[a.meta.map(function(a){return"%c".concat(a)}).join("")].concat(_toConsumableArray(a.meta.map(function(b,c){return makeLogStyle(a,a.meta[0],c)})));return[].concat(_toConsumableArray(e),c)}return c}},isAvailableInEnvironment=function(){return console!==void 0},dispatch=function(a,b){return function(){var c;(c=console)[a].apply(c,_toConsumableArray(transformConsoleArgs(b).apply(void 0,arguments)))}},initialise=function(){},consoleTransport={isAvailableInEnvironment:isAvailableInEnvironment,dispatch:dispatch,initialise:initialise},terminalColors={Reset:"\x1B[0m",Bright:"\x1B[1m",Dim:"\x1B[2m",Underscore:"\x1B[4m",Blink:"\x1B[5m",Reverse:"\x1B[7m",Hidden:"\x1B[8m",FgBlack:"\x1B[30m",FgRed:"\x1B[31m",FgGreen:"\x1B[32m",FgYellow:"\x1B[33m",FgBlue:"\x1B[34m",FgMagenta:"\x1B[35m",FgCyan:"\x1B[36m",FgWhite:"\x1B[37m",BgBlack:"\x1B[40m",BgRed:"\x1B[41m",BgGreen:"\x1B[42m",BgYellow:"\x1B[43m",BgBlue:"\x1B[44m",BgMagenta:"\x1B[45m",BgCyan:"\x1B[46m",BgWhite:"\x1B[47m"},colorLookup=function(a){return a in terminalColors?terminalColors[a]:terminalColors.FgGreen},transformConsoleArgs$1=function(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];if(a===void 0)return c;if(a.meta){var e="string"==typeof a.meta?["".concat(colorLookup(a.color),"%s").concat(terminalColors.Reset),a.meta]:a.meta.reduce(function(b,c){return[].concat(_toConsumableArray(b),["".concat(colorLookup(a.color),"%s").concat(terminalColors.Reset),c])},[]);return[].concat(_toConsumableArray(e),c)}return c}},isAvailableInEnvironment$1=function(){return console!==void 0},dispatch$1=function(a,b){return function(){var c;(c=console)[a].apply(c,_toConsumableArray(transformConsoleArgs$1(b).apply(void 0,arguments)))}},initialise$1=function(){},nodeTransport={isAvailableInEnvironment:isAvailableInEnvironment$1,dispatch:dispatch$1,initialise:initialise$1},writerOutputEl=null,makeLogStyle$1=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=a.backgroundColor,c=void 0===b?null:b,d=a.color,e=void 0===d?"white":d,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,h=null===c?getColor(f,g):c;return"display:inline-block;background-color:".concat(h,";color:").concat(e,";border-radius:3px;padding:2px 4px;margin-left:2px;")},transformConsoleArgs$2=function(a){return function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];if(a===void 0)return c;if(a.meta){var e="string"==typeof a.meta?"<div style=\"".concat(makeLogStyle$1(a,a.meta),"\">").concat(a.meta,"</div>"):a.meta.map(function(b,c){return"<div style=\"".concat(makeLogStyle$1(a,a.meta[0],c),"\">").concat(b,"</div>")}).join("");return[e].concat(c).join(" ")}return c}},lineStyles={log:"",debug:"color:blue",error:"color:red",warn:"color:orange"},isAvailableInEnvironment$2=function(){return window!==void 0&&window.document!==void 0},makeStyle=function(a){return Object.keys(a).map(function(b){return"".concat(b,":").concat(a[b])}).join(";")},makeEl=function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=b.tag,d=b.style,e=b.attrs,f=b.html,g=b.children,h=b.refOut,i=b.events,j=document.createElement(c);if(f&&(j.innerHTML=f),d){var k=makeStyle(d);j.setAttribute("style",k)}if(h&&h(j),e)for(var l in e){var m=e[l];j.setAttribute(l,m)}if(i)for(var n in i)j.addEventListener(n,i[n]);return g&&g.map(function(b){j.appendChild(a(b))}),j},initialise$2=function(){var a=document.getElementById("lgr_html_dom_writer__");if(!a){var b=makeEl({tag:"DIV",attrs:{id:"lgr_html_dom_writer__",draggable:"draggable"},style:{display:"flex","flex-direction":"column",position:"fixed",width:"400px",top:"300px","background-color":"rgba(255,255,255,0.9)",bottom:"0px",right:"0px",overflow:"hidden",border:"solid 1px #007fe0","font-size":"12px","font-family":"Helvetica, arial"},children:[{tag:"DIV",style:{color:"white",display:"flex","flex-direction":"row","background-color":"#007fe0",padding:"10px","font-size":"12px"},children:[{tag:"DIV",html:"lgr",style:{"flex-grow":"2"}},{tag:"DIV",html:"&#0149;",style:{"align-self":"flex-end","font-size":"20px","line-height":"0.5pt",height:"14px","letter-spacing":"0.5pt"},events:{click:function(){writerOutputEl.innerHTML="ACCESS"}}}]},{tag:"DIV",refOut:function(a){writerOutputEl=a},style:{"flex-grow":2,padding:"10px",overflow:"scroll"}}]});document.body.appendChild(b)}},dispatch$2=function(a,b){return function(){var c=document.createElement("DIV");c.setAttribute("style","margin-bottom:2px;".concat(lineStyles[a])),c.innerHTML=transformConsoleArgs$2(b).apply(void 0,arguments),writerOutputEl.append(c)}},htmlDomTransport={isAvailableInEnvironment:isAvailableInEnvironment$2,dispatch:dispatch$2,initialise:initialise$2},lgrBrowser=function(){return registerTransport(consoleTransport),exports.lgr({})},lgrNode=function(){return registerTransport(nodeTransport),exports.lgr({})};exports.clearTransports=clearTransports,exports.consoleTransport=consoleTransport,exports.htmlDomTransport=htmlDomTransport,exports.lgrBrowser=lgrBrowser,exports.lgrNode=lgrNode,exports.nodeTransport=nodeTransport,exports.registerTransport=registerTransport;
